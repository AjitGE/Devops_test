<app-toggle [promotionFromSearch]="sendPromotionToToggle" [backToTabs]="goBackToTabs" [gotNewSearch]="newSearch">
    <div tabs-div>
        <div>
            <ul id="resultscomp_nav" class="nav nav-tabs nav-justified ">
                <li class="nav-item ">
                    <a class="nav-link active" #latestPromoAnchor href="#latestPromosTab" data-toggle="tab">Latest
                        promos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#popularPromosTab" data-toggle="tab"> Trending promos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " #searchResultsAnchor href="#searchResultsTab" data-toggle="tab">Search results</a>
                </li>
            </ul>
        </div>
        <div class="tab-content">
            <div id="latestPromosTab" #latestPromosDiv class="tab-pane active container">
                <app-latestpromoscomp></app-latestpromoscomp>
            </div>
            <div id="popularPromosTab" class="tab-pane container">
                <app-trendingpromoscomp></app-trendingpromoscomp>
            </div>
            <div id="searchResultsTab" #searchResultsDiv class="tab-pane  container">
                <app-searchresultscomp [pcodecurrpromoval]="sendPcodecurrpromoval" [bsparams]="sendBSparams"
                    (promoCodeSubmitted)="onPromoCodeRec($event)"></app-searchresultscomp>
            </div>

        </div>
    </div>
    <div singlepromo-div>

        <div class="card-header promoHeaderStyle">
            <span *ngIf="(promotion?.isTrending === 'false') || (promotion?.isTrending === null)">&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <img id="sp_popular_icon" src="../../assets/Popular-icon.svg" *ngIf="promotion?.isTrending === 'true'"
                class="img-fluid iconSize">
            <span class="headerPNameStyle"><b>Promo code: </b>{{promotion?.promotionOrChallengeCode}}</span>
            <span class="pull-right">
                <img id="sep_collapse_icon" src="../../assets/Collapse-icon.svg" class="img-fluid iconSize" onmouseover="this.style.cursor='pointer'"
                    (click)="callParentToggle()">
            </span>
        </div>

        <p class="col-sm-12 promotionNameSingleStyle"> {{promotion?.promotionName}} </p>
        <br>
        <div class="card-header border-secondary">
            <div class="col-sm-12">

                <div class="row">
                    <div class="col-sm-6 sviewLabelSmStyle"><b>Promotion start to end dates:</b></div>
                    <div class="col-sm-6 sviewTextStyle"> Start: {{promotion?.promoStartDate | date:'MM/dd/yyyy'}}
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        End: {{promotion?.promoEndDate | date:'MM/dd/yyyy'}}</div>
                </div>

            </div>
            <hr class="hrwidth">
            <div class="col-sm-12 pb1">
                <div class="row">
                    <div class="col-sm-6 sviewLabelSmStyle"><b>Is member registration required?</b></div>
                    <div class="col-sm-6 sviewTextStyle">{{promotion?.registrationRequired}}</div>
                </div>

            </div>
            <div class="col-sm-12 pb1">

                <div class="row">
                    <div class="col-sm-6 sviewLabelSmStyle"><b>Member must register between:</b></div>
                    <div class="col-sm-6 sviewTextStyle"> Start: {{promotion?.memRegStartDate}}
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        End: {{promotion?.memRegEndDate}}
                    </div>
                </div>

            </div>
            <div class="col-sm-12 pb1">

                <div class="row">
                    <div class="col-sm-6 sviewLabelSmStyle"><b>Member must travel between:</b></div>
                    <div class="col-sm-6 sviewTextStyle"> Start: {{promotion?.memTravelStartDate}}
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        End: {{promotion?.memTravelEndDate}}
                    </div>
                </div>

            </div>
            <div class="col-sm-12 pb1">
                <div class="row">
                    <div class="col-sm-6 sviewLabelSmStyle"><b>Late registration may be processed by:</b></div>
                    <div class="col-sm-6 sviewTextStyle">{{promotion?.lateRegEndDate}}</div>
                </div>

            </div>
            <br>
            <hr class="hrwidth pb1">
            <div class="col-sm-12 pb1">
                <div class="row">
                    <div class="col-sm-6 sviewLabelSmStyle"><b>Is this a targeted promotion?</b></div>
                    <div class="col-sm-6 sviewTextStyle">{{promotion?.targetedPromotion}}</div>
                </div>

            </div>

            <div class="col-sm-12 pb1">
                <div class="row">
                    <div class="col-sm-6 sviewLabelSmStyle"><b>TA codes</b></div>
                    <div class="col-sm-6 sviewTextStyle">{{promotion?.tac}}</div>
                </div>

            </div>

            <hr class="hrwidth pb1">

            <div class="col-sm-12 pb1">
                <div class="row">
                    <div class="col-sm-6 sviewLabelSmStyle"><b>Direct mailer:</b></div>
                    <div class="col-sm-6 sviewTextStyle">{{promotion?.directmailer}}</div>
                </div>

            </div>

            <div class="col-sm-12 pb1">
                <div class="row">
                    <div class="col-sm-6 sviewLabelSmStyle"><b>Marketing page URL:</b></div>
                    <div class="col-sm-6" [innerHTML]="promotion?.marketingpageurl"></div>
                </div>

            </div>

            <div class="col-sm-12 pb1">
                <div class="row">
                    <div class="col-sm-6 sviewLabelSmStyle"><b>Email URLs:</b></div>
                    <div class="col-sm-6" [innerHTML]="promotion?.emailurl"></div>
                </div>

            </div>
        </div>


        <br>

        <div class="card-header pb1">
            <div class="row">
                <div class="col-sm-6 sviewLabelSmStyle"><b>&nbsp;&nbsp;&nbsp;&nbsp;Partner codes:</b></div>
                <div class="col-sm-6 sviewTextStyle">{{promotion?.partnerCodes}}</div>
            </div>
        </div>

        <br>
        <h6 id="sp_hte" class="promoDetailHeader">HOW TO EARN</h6>
        <br>
        <div [innerHTML]="promotion?.howToEarn"></div>

        <br>
        <h6 id="sp_fulfilment" class="promoDetailHeader">FULFILLMENT</h6>
        <br>
        <div [innerHTML]="promotion?.fulfillment"></div>

        <div class="card-header pb1">
            <div class="row">
                <div class="col-sm-6 sviewLabelSmStyle"><b>&nbsp;&nbsp;&nbsp;&nbsp;PST codes</b></div>
                <div class="col-sm-6 sviewTextStyle">{{promotion?.pstcodes}}</div>
            </div>
        </div>

        <br>
        <h6 id="sp_resolveissues" class="promoDetailHeader">RESOLVE ISSUES</h6>
        <br>
        <div [innerHTML]="promotion?.resolveIssues"></div>
        <br>

        <app-promodetailaccordian (expandcollapseevent)="expandCollapseHandler($event)">

            <div accordian-collapsed>
                <br><br>

                <mat-expansion-panel [expanded]="allExpandState">
                    <mat-expansion-panel-header class="specific-class">
                        <mat-panel-title>

                            <div class="col-md-9">
                                &nbsp;&nbsp;&nbsp;&nbsp;<span class="accLabelStyle">aa.com view</span>
                            </div>
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <div [innerHTML]="promotion?.aacomview"></div>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="allExpandState">
                    <mat-expansion-panel-header class="specific-class">
                        <mat-panel-title>

                            <div class="col-md-9">
                                &nbsp;&nbsp;&nbsp;&nbsp;<span class="accLabelStyle">Terms and conditions</span>
                            </div>
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <div [innerHTML]="promotion?.termsandconditions"></div>
                </mat-expansion-panel>
            </div>
            <div accordian-expanded>
                <br><br>
                <mat-expansion-panel [expanded]="allExpandState">
                    <mat-expansion-panel-header class="specific-class">
                        <mat-panel-title>

                            <div class="col-md-9">
                                &nbsp;&nbsp;&nbsp;&nbsp;<span class="accLabelStyle">aa.com view</span>
                            </div>
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <div [innerHTML]="promotion?.aacomview"></div>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="allExpandState">
                    <mat-expansion-panel-header class="specific-class">
                        <mat-panel-title>

                            <div class="col-md-9">
                                &nbsp;&nbsp;&nbsp;&nbsp; <span class="accLabelStyle">Terms and conditions</span>
                            </div>
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <div [innerHTML]="promotion?.termsandconditions"></div>
                </mat-expansion-panel>
            </div>

        </app-promodetailaccordian>






        <br>





    </div>
</app-toggle>